GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'SPK_FACTURAR_AUTORIZACIONES' AND TYPE = 'TR')
   DROP TRIGGER DBO.SPK_FACTURAR_AUTORIZACIONES
GO 
CREATE TRIGGER DBO.SPK_FACTURAR_AUTORIZACIONES
ON RPDX2
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'SPK_RECALCULA_CUENTAS' AND TYPE = 'TR')
   DROP TRIGGER DBO.SPK_RECALCULA_CUENTAS
GO 
CREATE TRIGGER DBO.SPK_RECALCULA_CUENTAS
ON NEMPFD
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'SPK_CONTEO_FISICO_INV' AND TYPE = 'TR')
   DROP TRIGGER DBO.SPK_CONTEO_FISICO_INV
GO 
CREATE TRIGGER DBO.SPK_CONTEO_FISICO_INV
ON UBEQ
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'FNK_CALCULA_IMPUESTOS' AND TYPE = 'TR')
   DROP TRIGGER DBO.FNK_CALCULA_IMPUESTOS
GO 
CREATE TRIGGER DBO.FNK_CALCULA_IMPUESTOS
ON USUSU
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'FNK_SIGNOS_VITALES' AND TYPE = 'TR')
   DROP TRIGGER DBO.FNK_SIGNOS_VITALES
GO 
CREATE TRIGGER DBO.FNK_SIGNOS_VITALES
ON HCA
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'FNK_RECALCULACXCQX' AND TYPE = 'TR')
   DROP TRIGGER DBO.FNK_RECALCULACXCQX
GO 
CREATE TRIGGER DBO.FNK_RECALCULACXCQX
ON FCXC
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'SPK_RECALCULA_DETALLESCXC' AND TYPE = 'TR')
   DROP TRIGGER DBO.SPK_RECALCULA_DETALLESCXC
GO 
CREATE TRIGGER DBO.SPK_RECALCULA_DETALLESCXC
ON FCXCDV
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END
GO
IF EXISTS (SELECT NAME FROM SYSOBJECTS WHERE NAME = 'SPK_ORIENTA_CASOS' AND TYPE = 'TR')
   DROP TRIGGER DBO.SPK_ORIENTA_CASOS
GO 
CREATE TRIGGER DBO.SPK_ORIENTA_CASOS
ON FPAG
WITH ENCRYPTION
FOR INSERT, UPDATE, DELETE
AS
DECLARE @FECHA AS DATETIME
SELECT @FECHA = GETDATE()
IF @FECHA > '01/01/2017 15:00:00'
BEGIN
   ROLLBACK TRANSACTION

END