/*
TABLAS DE REPORTES 
CREADO: JJIMENES
FECHA: 01-06.14
*/
/*REPORTES*/
CREATE TABLE RREPORT(
CONSECUTIVO VARCHAR(20)NOT NULL,
USUARIO     VARCHAR(20),
NOMBRE      VARCHAR(20),
DESCRIPCION VARCHAR(100),
CUERPO      VARCHAR(MAX)
)
 ALTER TABLE RREPORT
 ADD CONSTRAINT RREPORTCONSECUTIVO
 PRIMARY KEY CLUSTERED (CONSECUTIVO)
/*PARAMETROS*/
CREATE  TABLE RREPORTP(
CONSECUTIVO VARCHAR(20)NOT NULL,
ITEM      INT NOT NULL,
CAMPO     VARCHAR(20),
VALOR     VARCHAR(100)
)
 ALTER TABLE RREPORTP
 ADD CONSTRAINT RREPORTPCONSECUTIVOTITEM
 PRIMARY KEY CLUSTERED (CONSECUTIVO,ITEM)

/*TABLAS*/
CREATE TABLE RREPORTT(
CONSECUTIVO VARCHAR(20)NOT NULL,
TABLA       VARCHAR(20)NOT NULL,
ALIAS       VARCHAR(20)NOT NULL,
ORDEN       INT
)
 ALTER TABLE RREPORTT
 ADD CONSTRAINT RREPORTTCONSECUTIVOTABLAALIAS
 PRIMARY KEY CLUSTERED (CONSECUTIVO,TABLA,ALIAS)
 
 
 
ALTER TABLE RREPORTP WITH NOCHECK ADD CONSTRAINT FK_RREPORTPCONSECUTIVOTITEM FOREIGN KEY (CONSECUTIVO )
 REFERENCES RREPORT ( CONSECUTIVO )  ON UPDATE CASCADE  ON DELETE NO ACTION;
 